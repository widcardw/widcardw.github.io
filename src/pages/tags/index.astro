---
import BaseLayout from "../../layouts/Base.astro";
import { getAllPosts, getUniqueTagsWithCount } from "../../utils/getAllPosts";

const meta = {
  description: "A list of all the topics I've written about in my posts",
  title: "All Tags",
};

const allPosts = await getAllPosts();
const allTags = getUniqueTagsWithCount(allPosts);
---

<BaseLayout meta={meta}>
  <h1>Tags</h1>
  <hr />
  <ul>
    {
      allTags.map(([tag, count]) => (
        <li>
          <a data-astro-prefetch href={`/tags/${tag}`} class="mono">#{tag}</a> Â· {count}
        </li>
      ))
    }
  </ul>
</BaseLayout>
